(function(){var a;a=function(c){var b={};b.target="project-assignment.behind.php";b.add=function(d,g,f){c("#errors").children().remove();var e=c(d).val();c.ajax({type:"POST",url:b.target,data:{actionType:"add",project:g,dataType:f,dataValue:e},success:function(){c(d).clone().prependTo(c("select[name=assigned-"+f+"]"))},error:b.displayErrors})};b.remove=function(d,g,f){c("#errors").children().remove();var e=c(d).val();c.ajax({type:"POST",url:b.target,data:{actionType:"delete",project:g,dataType:f,dataValue:e},success:function(){c(d).remove()},error:b.displayErrors})};b.displayErrors=function(d){c("#errors").append("<p>"+d.responseText+"</p>")};c("select[name^=projects]").change(function(){var d=c(this).val();c("select[name^=projects]").each(function(){var f=c(this).children().map(function(){if(c(this).val()==d){return this}});c(f).attr("selected","selected");var e=c(this).attr("name").replace("projects-","");var g="select[name=assigned-"+e+"]";c(g).children().remove();if(d){c.get(b.target,{type:e,project:d},function(h){c(g).append(h)})}})});c(":button[name^=add]").click(function(){var d=c(this).attr("name").replace("add-","");var e=c("select[name="+d+"]").find("option:selected").get();var f=c("select[name=projects-"+d+"]").val();b.add(e,f,d)});c(":button[name^=remove]").click(function(){var d=c(this).attr("name").replace("remove-","");var e=c("select[name=assigned-"+d+"]").find("option:selected").get();var f=c("select[name=projects-"+d+"]").val();b.remove(e,f,d)})};jQuery.noConflict();jQuery(a)}());